var fs = require('fs');
var p1 = 'J3VzZSBzdHJpY3QnOwpjb25zdCBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7CmNvbnN0IGRiID0gcmVxdWlyZSgnLi9kYicpOwpjb25zdCBzbGVlcCA9IG1zID0+IG5ldyBQcm9taXNlKHIgPT4gc2V0VGltZW91dChyLCBtcykpOwpjb25zdCBVU0VSX0FHRU5UUyA9IFsnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzEyMi4wLjAuMCBTYWZhcmkvNTM3LjM2J107CmNvbnN0IHJhbmRVQSA9ICgpID0+IFVTRVJfQUdFTlRTWzBdOwpjb25zdCBiYXNlSGVhZGVycyA9ICgpID0+ICh7ICdVc2VyLUFnZW50JzogcmFuZFVBKCksICdBY2NlcHQnOiAndGV4dC9odG1sJywgJ0FjY2VwdC1MYW5ndWFnZSc6ICdlbi1VUyxlbjtxPTAuOScsICdDYWNoZS1Db250cm9sJzogJ25vLWNhY2hlJyB9KTsKYXN5bmMgZnVuY3Rpb24gZmV0Y2hXaXRoUmV0cnkodXJsLCBvcHRzLCByZXRyaWVzLCBiYXNlRGVsYXkpIHsKICByZXRyaWVzID0gcmV0cmllcyB8fCAzOyBiYXNlRGVsYXkgPSBiYXNlRGVsYXkgfHwgMjAwMDsKICBmb3IgKGxldCBpID0gMDsgaSA8IHJldHJpZXM7IGkrKykgewogICAgdHJ5IHsgcmV0dXJuIGF3YWl0IGF4aW9zLmdldCh1cmwsIE9iamVjdC5hc3NpZ24oeyBoZWFkZXJzOiBiYXNlSGVhZGVycygpLCB0aW1lb3V0OiAxNTAwMCB9LCBvcHRzIHx8IHt9KSk7IH0KICAgIGNhdGNoIChlcnIpIHsKICAgICAgY29uc3Qgc3RhdHVzID0gZXJyLnJlc3BvbnNlICYmIGVyci5yZXNwb25zZS5zdGF0dXM7CiAgICAgIGlmIChzdGF0dXMgPT09IDQwMyB8fCBzdGF0dXMgPT09IDQwMSkgdGhyb3cgZXJyOwogICAgICBpZiAoaSA8IHJldHJpZXMgLSAxKSBhd2FpdCBzbGVlcChiYXNlRGVsYXkgKiBNYXRoLnBvdygyLCBpKSArIE1hdGgucmFuZG9tKCkgKiAxMDAwKTsKICAgICAgZWxzZSB0aHJvdyBlcnI7CiAgICB9CiAgfQp9CmZ1bmN0aW9uIGluc2VydExlYWQobGVhZCkgewogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7CiAgICBkYi5ydW4oJ0lOU0VSVCBPUiBJR05PUkUgSU5UTyBsZWFkcyAobmFtZSwgY29udGFjdCwgc291cmNlLCBtZXNzYWdlLCBidXNpbmVzcywgbG9jYXRpb24sIHRpdGxlLCB1cmwpIFZBTFVFUyAoPywgPywgPywgPywgPywgPywgPywgPyknLAogICAgICBbbGVhZC5uYW1lLCBsZWFkLmNvbnRhY3QsIGxlYWQuc291cmNlLCBsZWFkLm1lc3NhZ2V8fCcnLCBsZWFkLmJ1c2luZXNzfHwnJywgbGVhZC5sb2NhdGlvbnx8JycsIGxlYWQudGl0bGV8fCcnLCBsZWFkLnVybHx8bGVhZC5jb250YWN0XSwKICAgICAgZnVuY3Rpb24oZXJyKSB7IHJlc29sdmUoZXJyID8gMCA6IHRoaXMuY2hhbmdlcyk7IH0pOwogIH0pOwp9CmZ1bmN0aW9uIHBhcnNlVGFnKHhtbCwgdGFnKSB7CiAgdmFyIG8gPSAnPCcgKyB0YWcgKyAnPic7IHZhciBjID0gJzwvJyArIHRhZyArICc+JzsKICB2YXIgb2kgPSB4bWwuaW5kZXhPZihvKTsgaWYgKG9pID09PSAtMSkgcmV0dXJuICcnOwogIHZhciBpbm5lciA9IHhtbC5zdWJzdHJpbmcob2kgKyBvLmxlbmd0aCwgeG1sLmluZGV4T2YoYywgb2kpKTsKICBpZiAoaW5uZXIuaW5kZXhPZignQ0RBVEFbJykgPiAtMSkgaW5uZXIgPSBpbm5lci5zcGxpdCgnQ0RBVEFbJylbMV0uc3BsaXQoJ11dPicpWzBdOwogIHJldHVybiBpbm5lci50cmltKCk7Cn0KZnVuY3Rpb24gc3RyaXBIdG1sKHMpIHsgdmFyIG89JycsdD1mYWxzZTsgZm9yKHZhciBpPTA7aTxzLmxlbmd0aDtpKyspe2lmKHNbaV09PT0nPCcpe3Q9dHJ1ZTtjb250aW51ZTt9aWYoc1tpXT09PSc+Jyl7dD1mYWxzZTtjb250aW51ZTt9aWYoIXQpbys9c1tpXTt9IHJldHVybiBvOyB9CmNvbnN0IFJFRERJVF9DT05GSUdTID0gWwogIHsgc3ViOiAnQ2hhcmxvdHRlJywga2V5d29yZHM6IFsnY3VzdG9tJywnc2lsdmVyJywnZ29sZCcsJ2Nhc3QnLCdqZXdlbHJ5JywnbWV0YWwnLCczZCBwcmludCcsJ3JpbmcnLCdwZW5kYW50Jywnc2N1bHB0dXJlJywndHJvcGh5JywnYnJvbnplJywnbWFrZXInXSB9LAogIHsgc3ViOiAnQ0xUJywga2V5d29yZHM6IFsnY3VzdG9tJywnc2lsdmVyJywnZ29sZCcsJ2Nhc3QnLCdqZXdlbHJ5JywncmluZycsJ2Jyb256ZSddIH0sCiAgeyBzdWI6ICdDb25jb3JkX05DJywga2V5d29yZHM6IFsnY3VzdG9tJywnamV3ZWxyeScsJ21ldGFsJywnY2FzdCcsJ3NpbHZlcicsJ2dvbGQnXSB9LAogIHsgc3ViOiAnTGFrZU5vcm1hbicsIGtleXdvcmRzOiBbJ2N1c3RvbScsJ2pld2VscnknLCdtZXRhbCcsJ2Nhc3QnLCdzaWx2ZXInLCdnb2xkJ10gfSwKICB7IHN1YjogJ2pld2VscnknLCBrZXl3b3JkczogWydjdXN0b20nLCdjYXN0Jywnc2lsdmVyJywnZ29sZCcsJ3JpbmcnLCdwZW5kYW50JywnbG9zdCB3YXgnLCczZCBwcmludCddIH0sCiAgeyBzdWI6ICdqZXdlbHJ5bWFraW5nJywga2V5d29yZHM6IFsnY2FzdCcsJ3NpbHZlcicsJ2dvbGQnLCdjdXN0b20nLCczZCBwcmludCcsJ3dheCcsJ2ludmVzdG1lbnQnLCdidXJub3V0J10gfSwKICB7IHN1YjogJ21ldGFsd29ya2luZycsIGtleXdvcmRzOiBbJ2Nhc3QnLCdjdXN0b20nLCdzaWx2ZXInLCdnb2xkJywnYnJvbnplJywnYWx1bWludW0nLCdwZXd0ZXInXSB9LAogIHsgc3ViOiAnc2lsdmVyc21pdGhpbmcnLCBrZXl3b3JkczogWydjYXN0JywnY3VzdG9tJywnbG9zdCB3YXgnLCdpbnZlc3RtZW50JywnM2QgcHJpbnQnXSB9LAogIHsgc3ViOiAnM0RwcmludGluZycsIGtleXdvcmRzOiBbJ2Nhc3QnLCdtZXRhbCcsJ3NpbHZlcicsJ2dvbGQnLCdicm9uemUnLCdsb3N0IHBsYScsJ2xvc3QgcmVzaW4nLCdidXJub3V0J10gfSwKICB7IHN1YjogJ3Jlc2lucHJpbnRpbmcnLCBrZXl3b3JkczogWydjYXN0JywnbWV0YWwnLCdzaWx2ZXInLCdnb2xkJywnYnVybm91dCcsJ2ludmVzdG1lbnQgY2FzdCddIH0sCiAgeyBzdWI6ICdQcmludGVkTWluaXMnLCBrZXl3b3JkczogWydjYXN0JywnbWV0YWwnLCdzaWx2ZXInLCdicm9uemUnLCdwZXd0ZXInLCdjdXN0b20nXSB9LAogIHsgc3ViOiAnRG5EJywga2V5d29yZHM6IFsnY2FzdCcsJ21ldGFsJywnc2lsdmVyJywnYnJvbnplJywncGV3dGVyJywnbWluaScsJ2ZpZ3VyaW5lJywnY3VzdG9tJywndHJvcGh5J10gfSwKICB7IHN1YjogJ0RuRG1pbmlhdHVyZXMnLCBrZXl3b3JkczogWydjYXN0JywnbWV0YWwnLCdzaWx2ZXInLCdicm9uemUnLCdwZXd0ZXInLCdjdXN0b20nXSB9LAogIHsgc3ViOiAnRElZJywga2V5d29yZHM6IFsnY3VzdG9tIHBhcnQnLCdjYXN0JywnbWV0YWwnLCdyZXBsYWNlbWVudCcsJ3NpbHZlcicsJ2Jyb256ZScsJ2JyYXNzJ10gfSwKICB7IHN1YjogJ0hvbWVJbXByb3ZlbWVudCcsIGtleXdvcmRzOiBbJ2N1c3RvbSBwYXJ0JywnY2FzdCcsJ21ldGFsJywncmVwbGFjZW1lbnQnLCdicm9uemUnLCdicmFzcyddIH0sCiAgeyBzdWI6ICdob21lb3duZXJzJywga2V5d29yZHM6IFsnY3VzdG9tJywnbWV0YWwnLCdjYXN0JywncmVwbGFjZW1lbnQgcGFydCcsJ2Jyb256ZScsJ2JyYXNzJ10gfSwKICB7IHN1YjogJ0dpZnRzJywga2V5d29yZHM6IFsnY3VzdG9tJywnc2lsdmVyJywnZ29sZCcsJ2Nhc3QnLCdtZXRhbCcsJ3JpbmcnLCdwZW5kYW50JywndHJvcGh5JywnYXdhcmQnXSB9LAogIHsgc3ViOiAnRW50cmVwcmVuZXVyJywga2V5d29yZHM6IFsnY3VzdG9tJywnY2FzdGluZycsJ3Byb3RvdHlwZScsJ21ldGFsJywnYnJvbnplJywnc2lsdmVyJywnY29udHJhY3QnXSB9LAogIHsgc3ViOiAnc21hbGxidXNpbmVzcycsIGtleXdvcmRzOiBbJ2N1c3RvbScsJ2Nhc3RpbmcnLCdwcm90b3R5cGUnLCdtZXRhbCcsJ2JhZGdlJywnYXdhcmQnLCd0cm9waHknXSB9LAogIHsgc3ViOiAnQ3J5cHRvJywga2V5d29yZHM6IFsnc2lsdmVyJywnZ29sZCcsJ2NvbGQgd2FsbGV0JywnaGFyZHdhcmUgd2FsbGV0JywndGFuZ2VtJywnbGVkZ2VyJywncHJlY2lvdXMgbWV0YWwnXSB9LAogIHsgc3ViOiAnQml0Y29pbicsIGtleXdvcmRzOiBbJ3NpbHZlcicsJ2dvbGQnLCdwaHlzaWNhbCcsJ2NvaW4nLCdjb2xkIHdhbGxldCcsJ3ByZWNpb3VzIG1ldGFsJywnY2FzdCddIH0sCiAgeyBzdWI6ICdXYXJoYW1tZXI0MGsnLCBrZXl3b3JkczogWydjYXN0JywnbWV0YWwnLCdmaWd1cmluZScsJ21pbmknLCdwZXd0ZXInLCdjdXN0b20nXSB9LApdOwphc3luYyBmdW5jdGlvbiBzY3JhcGVSZWRkaXQoYnVzaW5lc3MpIHsKICBidXNpbmVzcyA9IGJ1c2luZXNzIHx8ICdmb3JnZWJvcm4nOwogIGxldCB0b3RhbCA9IDA7CiAgZm9yIChsZXQgaSA9IDA7IGkgPCBSRURESVRfQ09ORklHUy5sZW5ndGg7IGkrKykgewogICAgY29uc3QgY2ZnID0gUkVERElUX0NPTkZJR1NbaV07CiAgICB0cnkgewogICAgICBhd2FpdCBzbGVlcCgxMjAwICsgTWF0aC5yYW5kb20oKSAqIDgwMCk7CiAgICAgIGNvbnN0IHVybCA9ICdodHRwczovL3d3dy5yZWRkaXQuY29tL3IvJyArIGNmZy5zdWIgKyAnL25ldy5qc29uP2xpbWl0PTUwJzsKICAgICAgY29uc3QgcmVzcCA9IGF3YWl0IGZldGNoV2l0aFJldHJ5KHVybCwgeyBoZWFkZXJzOiB7ICdVc2VyLUFnZW50JzogJ0xlYWRCb3QvMS4wJywgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pOwogICAgICBjb25zdCBwb3N0cyA9IChyZXNwLmRhdGEgJiYgcmVzcC5kYXRhLmRhdGEgJiYgcmVzcC5kYXRhLmRhdGEuY2hpbGRyZW4pIHx8IFtdOwogICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHBvc3RzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgY29uc3QgcCA9IHBvc3RzW2pdLmRhdGE7CiAgICAgICAgY29uc3QgdGV4dCA9IChwLnRpdGxlICsgJyAnICsgKHAuc2VsZnRleHQgfHwgJycpKS50b0xvd2VyQ2FzZSgpOwogICAgICAgIGNvbnN0IG1hdGNoZWQgPSBjZmcua2V5d29yZHMuc29tZShrID0+IHRleHQuaW5kZXhPZihrKSAhPT0gLTEpOwogICAgICAgIGlmICghbWF0Y2hlZCkgY29udGludWU7CiAgICAgICAgY29uc3QgbiA9IGF3YWl0IGluc2VydExlYWQoeyBuYW1lOiBwLmF1dGhvciwgY29udGFjdDogJ2h0dHBzOi8vcmVkZGl0LmNvbScrcC5wZXJtYWxpbmssIHVybDogJ2h0dHBzOi8vcmVkZGl0LmNvbScrcC5wZXJtYWxpbmssIHNvdXJjZTogJ1JlZGRpdCByLycrY2ZnLnN1YiwgdGl0bGU6IHAudGl0bGUsIG1lc3NhZ2U6IChwLnNlbGZ0ZXh0fHxwLnRpdGxlKS5zdWJzdHJpbmcoMCw1MDApLCBidXNpbmVzczogYnVzaW5lc3MsIGxvY2F0aW9uOiAnJyB9KTsKICAgICAgICB0b3RhbCArPSBuOwogICAgICB9CiAgICB9IGNhdGNoKGVycikgeyBjb25zb2xlLmVycm9yKCdSZWRkaXQgci8nK2NmZy5zdWIrJyBlcnI6JywgKGVyci5yZXNwb25zZSYmZXJyLnJlc3BvbnNlLnN0YXR1cyl8fGVyci5tZXNzYWdlKTsgfQogIH0KICBjb25zb2xlLmxvZygnUmVkZGl0OiAnICsgdG90YWwpOwogIHJldHVybiB0b3RhbDsKfQpjb25zdCBDTF9TRUFSQ0hFUyA9IFsKICB7IHVybDogJ2h0dHBzOi8vY2hhcmxvdHRlLmNyYWlnc2xpc3Qub3JnL3NlYXJjaC9iYXA/cXVlcnk9Y3VzdG9tK2pld2VscnkmZm9ybWF0PXJzcycsIHNvdXJjZTogJ0NyYWlnc2xpc3QnIH0sCiAg';
var p2 = 'eyB1cmw6ICdodHRwczovL2NoYXJsb3R0ZS5jcmFpZ3NsaXN0Lm9yZy9zZWFyY2gvYmFwP3F1ZXJ5PWN1c3RvbStyaW5nJmZvcm1hdD1yc3MnLCBzb3VyY2U6ICdDcmFpZ3NsaXN0JyB9LAogIHsgdXJsOiAnaHR0cHM6Ly9jaGFybG90dGUuY3JhaWdzbGlzdC5vcmcvc2VhcmNoL2JhcD9xdWVyeT1tZXRhbCtjYXN0aW5nJmZvcm1hdD1yc3MnLCBzb3VyY2U6ICdDcmFpZ3NsaXN0JyB9LAogIHsgdXJsOiAnaHR0cHM6Ly9jaGFybG90dGUuY3JhaWdzbGlzdC5vcmcvc2VhcmNoL2JhcD9xdWVyeT1zaWx2ZXJzbWl0aCZmb3JtYXQ9cnNzJywgc291cmNlOiAnQ3JhaWdzbGlzdCcgfSwKICB7IHVybDogJ2h0dHBzOi8vY2hhcmxvdHRlLmNyYWlnc2xpc3Qub3JnL3NlYXJjaC9sYmc/cXVlcnk9amV3ZWxyeStjdXN0b20mZm9ybWF0PXJzcycsIHNvdXJjZTogJ0NyYWlnc2xpc3QnIH0sCiAgeyB1cmw6ICdodHRwczovL2NoYXJsb3R0ZS5jcmFpZ3NsaXN0Lm9yZy9zZWFyY2gvbGJnP3F1ZXJ5PW1ldGFsd29yayZmb3JtYXQ9cnNzJywgc291cmNlOiAnQ3JhaWdzbGlzdCcgfSwKXTsKYXN5bmMgZnVuY3Rpb24gc2NyYXBlQ3JhaWdzbGlzdChidXNpbmVzcykgewogIGJ1c2luZXNzID0gYnVzaW5lc3MgfHwgJ2ZvcmdlYm9ybic7CiAgbGV0IHRvdGFsID0gMDsKICBmb3IgKGxldCBpID0gMDsgaSA8IENMX1NFQVJDSEVTLmxlbmd0aDsgaSsrKSB7CiAgICBjb25zdCBzID0gQ0xfU0VBUkNIRVNbaV07CiAgICB0cnkgewogICAgICBhd2FpdCBzbGVlcCgyMDAwICsgTWF0aC5yYW5kb20oKSAqIDE1MDApOwogICAgICBjb25zdCByZXNwID0gYXdhaXQgZmV0Y2hXaXRoUmV0cnkocy51cmwsIHsgcmVzcG9uc2VUeXBlOiAndGV4dCcgfSk7CiAgICAgIGNvbnN0IHhtbCA9IHJlc3AuZGF0YSB8fCAnJzsKICAgICAgY29uc3QgcGFydHMgPSB4bWwuc3BsaXQoJzxpdGVtPicpOwogICAgICBmb3IgKGxldCBwaSA9IDE7IHBpIDwgcGFydHMubGVuZ3RoOyBwaSsrKSB7CiAgICAgICAgY29uc3QgY2kgPSBwYXJ0c1twaV0uaW5kZXhPZignPC8nICsgJ2l0ZW0+Jyk7CiAgICAgICAgY29uc3QgaXRlbSA9IGNpID4gLTEgPyBwYXJ0c1twaV0uc3Vic3RyaW5nKDAsIGNpKSA6IHBhcnRzW3BpXTsKICAgICAgICBjb25zdCB0aXRsZSA9IHBhcnNlVGFnKGl0ZW0sICd0aXRsZScpOwogICAgICAgIGNvbnN0IGxpbmsgPSBwYXJzZVRhZyhpdGVtLCAnbGluaycpOwogICAgICAgIGNvbnN0IGRlc2MgPSBzdHJpcEh0bWwocGFyc2VUYWcoaXRlbSwgJ2Rlc2NyaXB0aW9uJykpLnN1YnN0cmluZygwLCA1MDApOwogICAgICAgIGlmICghbGluayB8fCAhdGl0bGUpIGNvbnRpbnVlOwogICAgICAgIGNvbnN0IG4gPSBhd2FpdCBpbnNlcnRMZWFkKHsgbmFtZTogJ0NyYWlnc2xpc3QgUG9zdCcsIGNvbnRhY3Q6IGxpbmssIHVybDogbGluaywgc291cmNlOiBzLnNvdXJjZSwgdGl0bGU6IHRpdGxlLCBtZXNzYWdlOiBkZXNjLCBidXNpbmVzczogYnVzaW5lc3MsIGxvY2F0aW9uOiAnQ2hhcmxvdHRlLCBOQycgfSk7CiAgICAgICAgdG90YWwgKz0gbjsKICAgICAgfQogICAgfSBjYXRjaChlcnIpIHsgY29uc29sZS5lcnJvcignQ3JhaWdzbGlzdCBlcnI6JywgKGVyci5yZXNwb25zZSYmZXJyLnJlc3BvbnNlLnN0YXR1cyl8fGVyci5tZXNzYWdlKTsgfQogIH0KICBjb25zb2xlLmxvZygnQ3JhaWdzbGlzdDogJyArIHRvdGFsKTsKICByZXR1cm4gdG90YWw7Cn0KYXN5bmMgZnVuY3Rpb24gZHVja2R1Y2tnb1NlYXJjaChxdWVyeSwgbWF4UmVzdWx0cykgewogIG1heFJlc3VsdHMgPSBtYXhSZXN1bHRzIHx8IDEwOwogIGF3YWl0IHNsZWVwKDMwMDAgKyBNYXRoLnJhbmRvbSgpICogMjAwMCk7CiAgdHJ5IHsKICAgIGNvbnN0IHJlc3AgPSBhd2FpdCBmZXRjaFdpdGhSZXRyeSgnaHR0cHM6Ly9odG1sLmR1Y2tkdWNrZ28uY29tL2h0bWwvJywgeyBoZWFkZXJzOiBPYmplY3QuYXNzaWduKGJhc2VIZWFkZXJzKCksIHsgJ1JlZmVyZXInOiAnaHR0cHM6Ly9kdWNrZHVja2dvLmNvbS8nIH0pLCBwYXJhbXM6IHsgcTogcXVlcnksIGtsOiAndXMtZW4nIH0sIHJlc3BvbnNlVHlwZTogJ3RleHQnIH0pOwogICAgY29uc3QgaHRtbCA9IHJlc3AuZGF0YSB8fCAnJzsKICAgIGNvbnN0IHJlc3VsdHMgPSBbXTsKICAgIGNvbnN0IGFuY2hvciA9ICdjbGFzcz0icmVzdWx0X19hIic7CiAgICBsZXQgcG9zID0gMDsKICAgIHdoaWxlIChyZXN1bHRzLmxlbmd0aCA8IG1heFJlc3VsdHMpIHsKICAgICAgY29uc3QgaWR4ID0gaHRtbC5pbmRleE9mKGFuY2hvciwgcG9zKTsKICAgICAgaWYgKGlkeCA9PT0gLTEpIGJyZWFrOwogICAgICBjb25zdCBocmVmU3RhcnQgPSBodG1sLmluZGV4T2YoJ2hyZWY9IicsIGlkeCkgKyA2OwogICAgICBjb25zdCBocmVmRW5kID0gaHRtbC5pbmRleE9mKCciJywgaHJlZlN0YXJ0KTsKICAgICAgY29uc3QgdGFnRW5kID0gaHRtbC5pbmRleE9mKCc+JywgaWR4KTsKICAgICAgY29uc3QgY2xvc2VUYWcgPSBodG1sLmluZGV4T2YoJzwvJyArICdhPicsIHRhZ0VuZCk7CiAgICAgIGNvbnN0IGhyZWYgPSBodG1sLnN1YnN0cmluZyhocmVmU3RhcnQsIGhyZWZFbmQpOwogICAgICBjb25zdCB0aXRsZSA9IGh0bWwuc3Vic3RyaW5nKHRhZ0VuZCArIDEsIGNsb3NlVGFnKS5yZXBsYWNlKC88W14+XSs+L2csICcnKS50cmltKCk7CiAgICAgIGNvbnN0IGNsZWFuSHJlZiA9IGhyZWYuaW5kZXhPZignL2wvP3VkZGc9JykgPT09IDAgPyBkZWNvZGVVUklDb21wb25lbnQoaHJlZi5yZXBsYWNlKCcvbC8/dWRkZz0nLCAnJykuc3BsaXQoJyYnKVswXSkgOiBocmVmOwogICAgICBpZiAoY2xlYW5IcmVmLmluZGV4T2YoJ2h0dHAnKSA9PT0gMCAmJiB0aXRsZSkgcmVzdWx0cy5wdXNoKHsgdXJsOiBjbGVhbkhyZWYsIHRpdGxlOiB0aXRsZSB9KTsKICAgICAgcG9zID0gY2xvc2VUYWcgKyAxOwogICAgfQogICAgcmV0dXJuIHJlc3VsdHM7CiAgfSBjYXRjaChlcnIpIHsgY29uc29sZS5lcnJvcignRERHIGVycjonLCAoZXJyLnJlc3BvbnNlJiZlcnIucmVzcG9uc2Uuc3RhdHVzKXx8ZXJyLm1lc3NhZ2UpOyByZXR1cm4gW107IH0KfQpjb25zdCBEREdfUVVFUklFUyA9IFsKICB7IHE6ICdzaXRlOnJlZGRpdC5jb20gQ2hhcmxvdHRlIE5DIGxvb2tpbmcgZm9yIGN1c3RvbSBqZXdlbHJ5IGNhc3Rpbmcgc2lsdmVyJywgc291cmNlOiAnU2VhcmNoL0RERycgfSwKICB7IHE6ICdzaXRlOnJlZGRpdC5jb20gY3VzdG9tIGNhc3RpbmcgamV3ZWxyeSBzaWx2ZXIgZ29sZCAzZCBwcmludCAyMDI1IDIwMjYnLCBzb3VyY2U6ICdTZWFyY2gvRERHJyB9LAogIHsgcTogJ3NpdGU6cmVkZGl0LmNvbSBsb3N0IHdheCBjYXN0aW5nIHNlcnZpY2UgY29tbWlzc2lvbiAyMDI2Jywgc291cmNlOiAnU2VhcmNoL0RERycgfSwKICB7IHE6ICdzaXRlOnJlZGRpdC5jb20gbWV0YWwgY2FzdCBtaW5pYXR1cmVzIGN1c3RvbSBEbkQgMjAyNicsIHNvdXJjZTogJ1NlYXJjaC9EREcnIH0sCiAgeyBxOiAnc2l0ZTpmYWNlYm9vay5jb20gQ2hhcmxvdHRlIGN1c3RvbSBqZXdlbHJ5IGNhc3Rpbmcgc2lsdmVyc21pdGgnLCBzb3VyY2U6ICdGYWNlYm9vay9TZWFyY2gnIH0sCiAgeyBxOiAnc2l0ZTpuZXh0ZG9vci5jb20gY2hhcmxvdHRlIGN1c3RvbSBqZXdlbHJ5IHNpbHZlcnNtaXRoIGNhc3RpbmcnLCBzb3VyY2U6ICdOZXh0ZG9vci9TZWFyY2gnIH0sCiAgeyBxOiAnc2l0ZTp5ZWxwLmNvbSBjaGFybG90dGUgbmMgamV3ZWxyeSBjYXN0aW5nIGN1c3RvbSBzaWx2ZXInLCBzb3VyY2U6ICdZZWxwL1NlYXJjaCcgfSwKICB7IHE6ICdzaXRlOmJiYi5vcmcgY2hhcmxvdHRlIG5jIGpld2VscnkgY2FzdGluZyBzaWx2ZXJzbWl0aCcsIHNvdXJjZTogJ0JCQicgfSwKICB7IHE6ICdzaXRlOnRodW1idGFjay5jb20gY2hhcmxvdHRlIG5jIHNpbHZlcnNtaXRoIGN1c3RvbSBqZXdlbHJ5Jywgc291cmNlOiAnVGh1bWJ0YWNrJyB9LAogIHsgcTogJ2NoYXJsb3R0ZSBuYyBsb29raW5nIGZvciBzaWx2ZXJzbWl0aCBjdXN0b20gamV3ZWxyeSBtZXRhbCBjYXN0aW5nIDIwMjYnLCBzb3VyY2U6ICdTZWFyY2gvRERHJyB9LAogIHsgcTogJ2NoYXJsb3R0ZSBjdXN0b20gdHJvcGh5IGF3YXJkIHNpbHZlciBicm9uemUgbWFkZSB0byBvcmRlcicsIHNvdXJjZTogJ1NlYXJjaC9EREcnIH0sCiAgeyBxOiAndGFibGV0b3AgYm9hcmRnYW1lIG1ldGFsIG1pbmlhdHVyZSBwZXd0ZXIgY3VzdG9tIGNvbW1pc3Npb24gMjAyNicsIHNvdXJjZTogJ1NlYXJjaC9EREcnIH0sCl07CmFzeW5jIGZ1bmN0aW9uIHNjcmFwZVNlYXJjaChidXNpbmVzcykgewogIGJ1c2luZXNzID0gYnVzaW5lc3MgfHwgJ2ZvcmdlYm9ybic7CiAgbGV0IHRvdGFsID0gMDsKICBmb3IgKGxldCBpID0gMDsgaSA8IERER19RVUVSSUVTLmxlbmd0aDsgaSsrKSB7CiAgICBjb25zdCBjZmcgPSBEREdfUVVFUklFU1tpXTsKICAgIHRyeSB7CiAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBkdWNrZHVja2dvU2VhcmNoKGNmZy5xLCA4KTsKICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCByZXN1bHRzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgY29uc3QgciA9IHJlc3VsdHNbal07CiAgICAgICAgaWYgKHIudXJsLmluZGV4T2YoJy5nb3YnKSAhPT0gLTEgfHwgci51cmwuaW5kZXhPZignd2lraXBlZGlhJykgIT09IC0xKSBjb250aW51ZTsKICAgICAgICBjb25zdCBuID0gYXdhaXQgaW5zZXJ0TGVhZCh7IG5hbWU6ICdXZWIgTGVhZCcsIGNvbnRhY3Q6IHIudXJsLCB1cmw6IHIudXJsLCBzb3VyY2U6IGNmZy5zb3VyY2UsIHRpdGxlOiByLnRpdGxlLCBtZXNzYWdlOiAnRm91bmQgdmlhOiAnK2NmZy5xLnN1YnN0cmluZygwLDgwKSwgYnVzaW5lc3M6IGJ1c2luZXNzLCBsb2NhdGlvbjogJ0NoYXJsb3R0ZSwgTkMnIH0pOwogICAgICAgIHRvdGFsICs9IG47CiAgICAgIH0KICAgIH0gY2F0Y2goZXJyKSB7IGNvbnNvbGUuZXJyb3IoJ1NlYXJjaCBlcnI6JywgZXJyLm1lc3NhZ2UpOyB9CiAgfQogIGNvbnNvbGUubG9nKCdTZWFyY2gvRERHOiAnICsgdG90YWwpOwogIHJldHVybiB0b3RhbDsKfQphc3luYyBmdW5jdGlvbiBzY3JhcGVBbGwoYnVzaW5lc3MpIHsKICBidXNpbmVzcyA9IGJ1c2luZXNzIHx8ICdmb3JnZWJvcm4nOwogIGNvbnNvbGUubG9nKCdTdGFydGluZyBmdWxsIHNjcmFwZS4uLicpOwogIGNvbnN0IHJlZGRpdCA9IGF3YWl0IHNjcmFwZVJlZGRpdChidXNpbmVzcyk7CiAgY29uc3QgY3JhaWdzbGlzdCA9IGF3YWl0IHNjcmFwZUNyYWlnc2xpc3QoYnVzaW5lc3MpOwogIGNvbnN0IHNlYXJjaCA9IGF3YWl0IHNjcmFwZVNlYXJjaChidXNpbmVzcyk7CiAgY29uc3QgcmVzdWx0ID0geyByZWRkaXQsIGNyYWlnc2xpc3QsIGZhY2Vib29rOiAwLCBuZXh0ZG9vcjogMCwgZ29vZ2xlbWFwczogMCwgeWVscDogMCwgb3RoZXI6IHNlYXJjaCB9OwogIGNvbnNvbGUubG9nKCdTY3JhcGUgZG9uZSEgTmV3IGxlYWRzOiAnICsgT2JqZWN0LnZhbHVlcyhyZXN1bHQpLnJlZHVjZSgoYSxiKSA9PiBhK2IsIDApKTsKICByZXR1cm4gcmVzdWx0Owp9Cm1vZHVsZS5leHBvcnRzID0geyBzY3JhcGVBbGwsIHNjcmFwZVJlZGRpdCwgc2NyYXBlQ3JhaWdzbGlzdCwgc2NyYXBlU2VhcmNoIH07';
var code = Buffer.from(p1 + p2, 'base64').toString('utf8');
fs.writeFileSync('scraper.js', code, 'utf8');
console.log('scraper.js written!');
